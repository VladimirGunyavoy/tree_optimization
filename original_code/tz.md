# üìã –¢–ó: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –¥–µ—Ä–µ–≤—å–µ–≤ —Å–ø–æ—Ä

## üéØ **–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞**
–ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ dt –¥–ª—è –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏–∏ –ø–ª–æ—â–∞–¥–∏ —á–µ—Ç—ã—Ä–µ—Ö—É–≥–æ–ª—å–Ω–∏–∫–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∏–∑ —Å—Ä–µ–¥–Ω–∏—Ö —Ç–æ—á–µ–∫ –ø–∞—Ä –≤–Ω—É–∫–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ —Å–ø–æ—Ä.

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 12 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ dt –∑–∞–Ω–∏–º–∞–µ—Ç ~1000 –∏—Ç–µ—Ä–∞—Ü–∏–π √ó 12 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π = 12,000+ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã –º–∞—è—Ç–Ω–∏–∫–∞.

**–¶–µ–ª–µ–≤–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ:** 10-50x (—Å –¥–µ—Å—è—Ç–∫–æ–≤ —Å–µ–∫—É–Ω–¥ –¥–æ –¥–æ–ª–µ–π —Å–µ–∫—É–Ω–¥—ã).

## üîß **–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

```python
def optimize_dt(initial_position, pendulum, config=None):
    """
    –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö dt —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.
    
    Args:
        initial_position: np.array([theta, theta_dot]) - –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
        pendulum: PendulumSystem - –æ–±—ä–µ–∫—Ç –º–∞—è—Ç–Ω–∏–∫–∞
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å (–µ—Å–ª–∏ None, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç defaults)
        
    Returns:
        —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ + —Ç–æ–ø–æ–ª–æ–≥–∏—è –¥–µ—Ä–µ–≤–∞ + –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
        
    Jupyter –æ—Ç–ª–∞–¥–∫–∞ (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ config["debug"]):
        üöÄ === –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø dt v2.0 ===
        üìç –ü–æ–∑–∏—Ü–∏—è: [3.14, 0.0]
        ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥: method={config["optimizer"]["method"]}, Œµ={config["epsilon"]}
        
        üå± –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–æ–ª–æ–≥–∏–∏...
        [–¥–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ create_tree_topology –µ—Å–ª–∏ show_topology_creation=True]
        
        üéØ –≠—Ç–∞–ø 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 12 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤...
        üìä –ú–µ—Ç–æ–¥: {config["optimizer"]["method"]}
        üìä –ù–∞—á–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å: 0.123
        üìà –ò—Ç–µ—Ä–∞—Ü–∏—è 1/50: –ø–ª–æ—â–∞–¥—å=0.145 (—É–ª—É—á—à–µ–Ω–∏–µ +0.022)
        ...
        ‚úÖ –°—Ö–æ–¥–∏–º–æ—Å—Ç—å –∑–∞ 23 –∏—Ç–µ—Ä–∞—Ü–∏–∏
        
        üìã === –†–ï–ó–£–õ–¨–¢–ê–¢–´ ===
        üèÜ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å: 0.678 (—É–ª—É—á—à–µ–Ω–∏–µ +0.555)  
        üìè –†–∞—Å—Å—Ç–æ—è–Ω–∏—è –ø–∞—Ä: [0.0005, 0.0008, 0.0003, 0.0009]
        ‚è±Ô∏è  –í—Ä–µ–º—è: 0.15s (–±—ã–ª–æ ~30s, —É—Å–∫–æ—Ä–µ–Ω–∏–µ 200x)
        üîÑ –ò—Ç–µ—Ä–∞—Ü–∏–∏: 23 (–±—ã–ª–æ ~1000)
    """
```

### **–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π**

```python
def create_config(preset="default", **overrides):
    """
    –°–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
    
    Args:
        preset: str - –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∞ ("default", "debug", "performance", "research")
        **overrides - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
    
    Returns:
        dict - –≥–æ—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        
    –ü—Ä–∏–º–µ—Ä—ã:
        # –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        config = create_config()
        
        # –û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º —Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
        config = create_config("debug", epsilon=1e-4)
        
        # –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
        config = create_config("performance")
        config["optimizer"]["method"] = "differential_evolution"
        config["debug"]["show_optimization"] = True
    """

def validate_config(config):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –≤—ã–¥–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.
    
    –ü—Ä–æ–≤–µ—Ä–∫–∏:
        ‚úÖ –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
        ‚úÖ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
        ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –≤ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö
        ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–µ–∂–¥—É —Å–æ–±–æ–π
        
    –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤—ã–¥–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.
    """
```

## üìì **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Jupyter Notebook**

### **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

**1. –ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
```python
# –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ —Ç–æ–ø–æ–ª–æ–≥–∏–∏
topology = create_tree_topology(initial_pos, pendulum, show=True)

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö dt –≤–µ–∫—Ç–æ—Ä–æ–≤
test_dt = np.random.uniform(0.01, 0.1, 12)
positions = calculate_grandchildren_positions(topology, test_dt, show=True)
metrics = calculate_metrics(positions, topology['grandchild_pairs'], show=True)

print(f"üéØ –¢–µ—Å—Ç–æ–≤–∞—è –ø–ª–æ—â–∞–¥—å: {metrics['area']:.6f}")
```

**2. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
```python
def plot_optimization_progress(results, show_details=True):
    """
    –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
    
    –ü—Ä–∏ show_details=True:
        üìä –ì—Ä–∞—Ñ–∏–∫ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–ª–æ—â–∞–¥–∏
        üìè –ì—Ä–∞—Ñ–∏–∫ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏  
        üìà –≠–≤–æ–ª—é—Ü–∏—è dt –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
        üéØ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞
    """
```

**3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```python
# –ë—ã—Å—Ç—Ä–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–π —è—á–µ–π–∫–µ
methods = ['L-BFGS-B', 'Differential Evolution', 'SLSQP']
results = compare_optimizers(topology, methods, show=True)

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
display_comparison_table(results)
```

### **–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã**

**1. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```python
from utils.profiling import profile_function

@profile_function(show_in_jupyter=True)
def benchmark_optimization():
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç:
    # ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    # üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏  
    # üî• –°–∞–º—ã–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏
    # üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –∑–∞–ø—É—Å–∫–∞–º–∏
```

**2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–ª–∞–π–¥–µ—Ä—ã:**
```python
from ipywidgets import interact, FloatSlider

@interact(
    dt_scale=FloatSlider(min=0.1, max=2.0, step=0.1, value=1.0),
    epsilon=FloatSlider(min=1e-4, max=1e-2, step=1e-4, value=1e-3)
)
def interactive_optimization(dt_scale, epsilon):
    """–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏."""
    result = optimize_dt(
        initial_pos, pendulum, 
        dt_base=0.1*dt_scale, epsilon=epsilon, 
        show=False, show_progress=True
    )
    
    print(f"üéØ –ü–ª–æ—â–∞–¥—å: {result['final_area']:.6f}")
    print(f"‚è±Ô∏è –í—Ä–µ–º—è: {result['optimization_time']:.3f}s")
    
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç –≥—Ä–∞—Ñ –¥–µ—Ä–µ–≤–∞
    visualize_tree(result['tree'])
```

### **–≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**

```python
def export_results(result, filename="optimization_results.json", show=True):
    """
    –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏.
    
    –ü—Ä–∏ show=True:
        üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ {filename}
        üìã –í–∫–ª—é—á–µ–Ω–æ: –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ dt, –º–µ—Ç—Ä–∏–∫–∏, —Ç–æ–ø–æ–ª–æ–≥–∏—è, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        üîó –°—Å—ã–ª–∫–∞ –Ω–∞ notebook cell –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
        ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
    """
```

### –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
1. `optimize_dt()` ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç `objective_function()` –≤ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
2. `objective_function()` ‚Üí –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç `build_simple_tree()` 
3. `build_simple_tree()` ‚Üí –¥–µ–ª–∞–µ—Ç 12 –≤—ã–∑–æ–≤–æ–≤ `pendulum.scipy_rk45_step()`
4. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 1000+ —Ä–∞–∑ –¥–æ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞:
- **–ö–æ—Ä–µ–Ω—å:** –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
- **4 —Ä–µ–±–µ–Ω–∫–∞:** –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (u_min/u_max, dt_forward/dt_backward)
- **8 –≤–Ω—É–∫–æ–≤:** –ø–æ 2 –æ—Ç –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ —Å –æ–±—Ä–∞—â–µ–Ω–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- **4 –ø–∞—Ä—ã –≤–Ω—É–∫–æ–≤:** (0,1), (2,3), (4,5), (6,7) –ø–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

---

## üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π**

### **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**
```python
from optimization.optimized_dt import optimize_dt, create_config

# –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
result = optimize_dt(initial_pos, pendulum)

# –° –≥–æ—Ç–æ–≤–æ–π –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
config = create_config("debug")  
result = optimize_dt(initial_pos, pendulum, config=config)
```

### **–¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**

**1. –ë—ã—Å—Ç—Ä–∞—è –æ—Ç–ª–∞–¥–∫–∞ (–≤–∏–∂—É –≤—Å–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã):**
```python
config = create_config("debug") 
result = optimize_dt(initial_pos, pendulum, config=config)
```

**2. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω–∏–º—É–º –≤—ã–≤–æ–¥–∞):**
```python
config = create_config("performance")
result = optimize_dt(initial_pos, pendulum, config=config)
```

**3. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (–≥—Ä–∞—Ñ–∏–∫–∏ + –¥–µ—Ç–∞–ª–∏ + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ):**
```python
config = create_config("research")
result = optimize_dt(initial_pos, pendulum, config=config)
```

**4. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è (–º–µ–Ω—è—é —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ):**
```python
config = create_config("performance")  # –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
config["optimizer"]["method"] = "differential_evolution"  # –ù–æ –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥
config["debug"]["show_progress"] = True  # –ò –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
result = optimize_dt(initial_pos, pendulum, config=config)
```

### **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤ Jupyter:**
```python
# –°–æ–∑–¥–∞–µ–º –≤–∏–¥–∂–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
from optimization.jupyter.interactive_widgets import config_widget
widget = config_widget()
widget.display()

# –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –≤–∏–¥–∂–µ—Ç–µ:
result = optimize_dt(initial_pos, pendulum, config=widget.get_config())
```

---

## üöÄ **–£—Ä–æ–≤–µ–Ω—å 1: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

### **1.1 –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–æ–ø–æ–ª–æ–≥–∏–∏**

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å –¥–µ—Ä–µ–≤–æ –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

```python
def create_tree_topology(initial_position, pendulum, config):
    """
    –°–æ–∑–¥–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–ø–æ–ª–æ–≥–∏—é –¥–µ—Ä–µ–≤–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞.
    
    Args:
        initial_position: np.array([theta, theta_dot]) - –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
        pendulum: PendulumSystem - —Å–∏—Å—Ç–µ–º–∞ –º–∞—è—Ç–Ω–∏–∫–∞
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
    
    Returns:
        tree_topology: dict —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–µ—Ä–µ–≤–∞
    
    Jupyter –æ—Ç–ª–∞–¥–∫–∞ (–ø—Ä–∏ config["debug"]["show_topology_creation"]=True):
        üå± –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–æ–ª–æ–≥–∏–∏ –¥–µ—Ä–µ–≤–∞ –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ [3.14, 0.0]
        üìä –ë–∞–∑–æ–≤—ã–π dt: 0.1 (config["dt_base"])
        üçÑ –°–æ–∑–¥–∞–Ω–æ 4 —Ä–µ–±–µ–Ω–∫–∞:
           0: forward_max (u=+2.0, dt=+0.1) ‚Üí [3.12, 0.05]
           1: backward_max (u=+2.0, dt=-0.1) ‚Üí [3.16, -0.05]
           ...
        üë∂ –°–æ–∑–¥–∞–Ω–æ 8 –≤–Ω—É–∫–æ–≤ –ø–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
        üîÑ –ü–æ—Ä—è–¥–æ–∫ –æ–±—Ö–æ–¥–∞: [0, 1, 2, 3, 4, 5, 6, 7]
        üìù –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ø–∞—Ä—ã: [(0,1), (2,3), (4,5), (6,7)]
        ‚úÖ –¢–æ–ø–æ–ª–æ–≥–∏—è –≥–æ—Ç–æ–≤–∞ –∑–∞ 0.05s
    """
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `config["dt_base"]` - –±–∞–∑–æ–≤—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∞–≥
- `config["debug"]["show_topology_creation"]` - –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è
- `config["performance"]["enable_caching"]` - –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- `config["export"]["save_topology"]` - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–æ–ø–æ–ª–æ–≥–∏—é –Ω–∞ –¥–∏—Å–∫

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```python
tree_topology = {
    'initial_position': np.array([theta, theta_dot]),  # –∏—Å—Ö–æ–¥–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
    'parent_positions': np.array((4, 2)),       # 4 –ø–æ–∑–∏—Ü–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π
    'grandchild_pairs': [(0,1), (2,3), (4,5), (6,7)],  # –ø–∞—Ä—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞
    'controls': {...},                          # —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–≤–µ–Ω–∞
    'traversal_order': [...],                   # –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ö–æ–¥–∞ –≤–Ω—É–∫–æ–≤
    'dt_mapping': {...},                        # –∫–∞–∫–æ–π dt –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–∂–¥–æ–µ –∑–≤–µ–Ω–æ
    'creation_time': float,                     # –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    'config_snapshot': {...},                  # –∫–æ–ø–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
    'metadata': {...}                           # –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
}
```

### **1.2 –ë—ã—Å—Ç—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–∞**

**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—Å–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ü–µ–ª–µ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

**1.2.1 –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –ø–æ–∑–∏—Ü–∏–π –≤–Ω—É–∫–æ–≤**
```python
def calculate_grandchildren_positions(tree_topology, dt_vector, config):
    """
    –ë—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ 8 –≤–Ω—É–∫–æ–≤ –ø–æ –Ω–æ–≤–æ–º—É –≤–µ–∫—Ç–æ—Ä—É dt.
    
    Args:
        tree_topology: –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è
        dt_vector: np.array(12) - –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è dt
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å
    
    Returns:
        grandchildren_positions: np.array((8, 2)) - –ø–æ–∑–∏—Ü–∏–∏ –≤—Å–µ—Ö –≤–Ω—É–∫–æ–≤
        
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
        config["debug"]["show_calculations"] - –¥–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥
        config["performance"]["enable_caching"] - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        config["performance"]["enable_vectorization"] - –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
        
    Jupyter –æ—Ç–ª–∞–¥–∫–∞ (–ø—Ä–∏ config["debug"]["show_calculations"]=True):
        üå± –ü–µ—Ä–µ—Å—á–µ—Ç –ø–æ–∑–∏—Ü–∏–π –≤–Ω—É–∫–æ–≤
        üìä dt_vector: [0.1, 0.05, ...]
        üéØ –ü–æ–∑–∏—Ü–∏—è –≤–Ω—É–∫–∞ 0: [1.234, 0.567] (—Ä–æ–¥–∏—Ç–µ–ª—å 0, dt=0.05)
        ...
        üíæ –ö—ç—à: 15/20 –ø–æ–ø–∞–¥–∞–Ω–∏–π (75%)
        ‚úÖ –í—Å–µ 8 –≤–Ω—É–∫–æ–≤ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã –∑–∞ 0.001s
    """
```

**1.2.2 –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫**
```python  
def calculate_metrics(grandchildren_positions, pairs, config):
    """
    –ë—ã—Å—Ç—Ä–æ –≤—ã—á–∏—Å–ª—è–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏.
    
    Args:
        grandchildren_positions: np.array((8, 2)) - –ø–æ–∑–∏—Ü–∏–∏ –≤–Ω—É–∫–æ–≤
        pairs: list - –∏–Ω–¥–µ–∫—Å—ã –ø–∞—Ä –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å
    
    Returns:
        {
            'pair_distances': np.array(4),      # —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏
            'mean_points': np.array((4, 2)),    # —Å—Ä–µ–¥–Ω–∏–µ —Ç–æ—á–∫–∏ –ø–∞—Ä  
            'area': float                       # –ø–ª–æ—â–∞–¥—å —á–µ—Ç—ã—Ä–µ—Ö—É–≥–æ–ª—å–Ω–∏–∫–∞
        }
    
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
        config["debug"]["show_calculations"] - –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã
        config["performance"]["enable_vectorization"] - —É—Å–∫–æ—Ä–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
        config["visualization"]["auto_plot"] - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏
        
    Jupyter –æ—Ç–ª–∞–¥–∫–∞ (–ø—Ä–∏ config["debug"]["show_calculations"]=True):
        üîç –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä –≤–Ω—É–∫–æ–≤
        üìè –ü–∞—Ä–∞ 0 (–≤–Ω—É–∫–∏ 0-1): —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ = 0.0123
        üìç –°—Ä–µ–¥–Ω—è—è —Ç–æ—á–∫–∞ –ø–∞—Ä—ã 0: [1.1, 0.3]  
        ...
        üìä –ß–µ—Ç—ã—Ä–µ—Ö—É–≥–æ–ª—å–Ω–∏–∫: –ø–ª–æ—â–∞–¥—å = 0.456
        ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã
    """
```

**1.2.3 –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–ª–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è**
```python
def fast_objective_function(dt_vector, tree_topology, config):
    """
    –ë—ã—Å—Ç—Ä–∞—è —Ü–µ–ª–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –±–µ–∑ –ø–µ—Ä–µ—Å—á–µ—Ç–∞ –≤—Å–µ–≥–æ –¥–µ—Ä–µ–≤–∞.
    
    Args:
        dt_vector: np.array(12) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        tree_topology: –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å
    
    Returns:
        -area  # –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏
    
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
        config["debug"]["show_optimization"] - –≤—ã–≤–æ–¥ –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞
        config["profiling"]["enable_timing"] - –∑–∞–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏
        config["performance"]["enable_caching"] - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
        
    Jupyter –æ—Ç–ª–∞–¥–∫–∞ (–ø—Ä–∏ config["debug"]["show_optimization"]=True):
        üéØ –í—ã–∑–æ–≤ —Ü–µ–ª–µ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ #1247
        üìä dt: [0.1, 0.05, 0.1, 0.05, ...]
        üßÆ –ü–ª–æ—â–∞–¥—å: 0.456
        üìâ Objective: -0.456 (–º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º)
        ‚è±Ô∏è –í—Ä–µ–º—è: 0.003s
    """
```

**1.2.4 –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
```python
def fast_constraint_function(dt_vector, tree_topology, pair_idx, config):
    """
    –ë—ã—Å—Ç—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–∞—Ä—ã.
    
    Args:
        dt_vector: np.array(12) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        tree_topology: –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è  
        pair_idx: int - –∏–Ω–¥–µ–∫—Å –ø–∞—Ä—ã (0, 1, 2, 3)
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å
    
    Returns:
        epsilon - distance  # > 0 –æ–∑–Ω–∞—á–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
        config["epsilon"] - –¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
        config["debug"]["show_constraints"] - –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
        
    Jupyter –æ—Ç–ª–∞–¥–∫–∞ (–ø—Ä–∏ config["debug"]["show_constraints"]=True):
        üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞—Ä—ã {pair_idx}
        üìè –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: {distance:.6f}
        üìù –î–æ–ø—É—Å–∫ Œµ: {config["epsilon"]}  
        ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ {"–≤—ã–ø–æ–ª–Ω–µ–Ω–æ" if constraint > 0 else "–Ω–∞—Ä—É—à–µ–Ω–æ"}: {constraint:.6f}
    """
```

### **1.3 –û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –£—Ä–æ–≤–Ω—è 1**
- **–¢–µ–∫—É—â–µ–µ:** 12 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π √ó 1000 –∏—Ç–µ—Ä–∞—Ü–∏–π = 12,000 –≤—ã—á–∏—Å–ª–µ–Ω–∏–π  
- **–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 12 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π √ó 1 —Ä–∞–∑ + 1000 –±—ã—Å—Ç—Ä—ã—Ö –ø–µ—Ä–µ—Å—á–µ—Ç–æ–≤ ‚âà 12 –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** ~1000x –Ω–∞ —ç—Ç–∞–ø–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π

---

## üîß **–£—Ä–æ–≤–µ–Ω—å 2: –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

### **2.1 –ó–∞–º–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞**

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ–±–ª–µ–º—ã SLSQP:**
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å –Ω–∞ –≥–ª–∞–¥–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö  
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–¥–∞—á–∏
- –ú–Ω–æ–≥–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–ª—è 12D –∑–∞–¥–∞—á–∏

**–ö–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ –∑–∞–º–µ–Ω—É:**
1. **L-BFGS-B** - –¥–ª—è –≥–ª–∞–¥–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å bounds
2. **Differential Evolution** - –≥–ª–æ–±–∞–ª—å–Ω—ã–π, –Ω–µ –Ω—É–∂–Ω—ã –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã  
3. **Powell** - –Ω–µ –Ω—É–∂–Ω—ã –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, —Ö–æ—Ä–æ—à –¥–ª—è —Å—Ä–µ–¥–Ω–∏—Ö —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ 3 –º–µ—Ç–æ–¥–∞
- –°—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö
- –í—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–π –∫–∞–∫ default

### **2.2 –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

**–ó–∞–¥–∞—á–∞:** –í—ã—á–∏—Å–ª–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –ø–ª–æ—â–∞–¥–∏ –ø–æ dt –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏.

**–¶–µ–ø–æ—á–∫–∞ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
‚àÇarea/‚àÇdt_i = ‚àÇarea/‚àÇmean_points √ó ‚àÇmean_points/‚àÇpositions √ó ‚àÇpositions/‚àÇdt_i
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –°—Ö–æ–¥–∏–º–æ—Å—Ç—å –∑–∞ 10-50 –∏—Ç–µ—Ä–∞—Ü–∏–π –≤–º–µ—Å—Ç–æ 500-1000
- –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –¢–æ—á–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ vs —á–∏—Å–ª–µ–Ω–Ω—ã–µ

---

## ‚ö° **–£—Ä–æ–≤–µ–Ω—å 3: –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**  

### **3.1 –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–ö—ç—à –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π:**
```python
from functools import lru_cache

@lru_cache(maxsize=1000)
def cached_rk45_step(state_key, control, dt):
    """–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"""
```

**–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:**
- –ó–∞–º–µ–Ω–∏—Ç—å —Ü–∏–∫–ª—ã –Ω–∞ numpy –æ–ø–µ—Ä–∞—Ü–∏–∏
- Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π  
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö (arrays –≤–º–µ—Å—Ç–æ lists)

### **3.2 JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏—è (Numba)**

**–ö–∞–Ω–¥–∏–¥–∞—Ç—ã –¥–ª—è JIT:**
- `calculate_grandchildren_positions()` 
- `calculate_metrics()`
- `fast_objective_function()`

**–û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –Ω–∞ —á–∏—Å–ª–µ–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö.

---

## üìù **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**

### **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `initial_position: np.array([theta, theta_dot])` - –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
- `pendulum: PendulumSystem` - —Å–∏—Å—Ç–µ–º–∞ –º–∞—è—Ç–Ω–∏–∫–∞  
- `config: dict` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (–µ—Å–ª–∏ None, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è defaults)

### **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```python
{
    # === –†–ï–ó–£–õ–¨–¢–ê–¢–´ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò ===
    'success': bool,
    'optimal_dt_children': np.array(4),      # –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ dt –¥–µ—Ç–µ–π
    'optimal_dt_grandchildren': np.array(8), # –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ dt –≤–Ω—É–∫–æ–≤  
    'final_area': float,                     # –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞—è –ø–ª–æ—â–∞–¥—å
    'final_distances': np.array(4),          # —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –≤ –ø–∞—Ä–∞—Ö
    'optimization_time': float,              # –≤—Ä–µ–º—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    'iterations': int,                       # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
    
    # === –°–¢–†–£–ö–¢–£–†–´ –î–ê–ù–ù–´–• ===
    'tree_topology': dict,                   # —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è
    'optimization_history': list,            # –∏—Å—Ç–æ—Ä–∏—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    
    # === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ò –û–¢–õ–ê–î–ö–ê ===
    'config_used': dict,                     # –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    'debug_info': dict                       # –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)
}
```

### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:**
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ **–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏** - –≥–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ **–ò–µ—Ä–∞—Ä—Ö–∏—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫  
- ‚úÖ **–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** - –ª–µ–≥–∫–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å–º. –Ω–∏–∂–µ)

### **üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**

–°—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

```python
# === –°–¢–ê–†–´–ô –ò–ù–¢–ï–†–§–ï–ô–° (–ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å) ===
result = optimize_dt(
    initial_position=initial_pos,
    pendulum=pendulum, 
    dt_base=0.1,
    epsilon=1e-3, 
    dt_bounds=(0.001, 0.2),
    show=True,
    show_progress=True
)

# === –ù–û–í–´–ô –ò–ù–¢–ï–†–§–ï–ô–° (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ===  
config = create_config("research")
config.update({
    "dt_base": 0.1,
    "epsilon": 1e-3,
    "dt_bounds": (0.001, 0.2),
    "debug": {"show_optimization": True, "show_progress": True}
})
result = optimize_dt(initial_pos, pendulum, config=config)
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ä–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ñ—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥ –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

### **üìã –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫**

| –°—Ç–∞—Ä—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä | –ù–æ–≤—ã–π –ø—É—Ç—å –≤ config | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------|-------------------|----------|
| `dt_base=0.1` | `config["dt_base"]` | –ë–∞–∑–æ–≤—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∞–≥ |
| `epsilon=1e-3` | `config["epsilon"]` | –î–æ–ø—É—Å–∫ —Å—Ö–æ–∂–¥–µ–Ω–∏—è –ø–∞—Ä |
| `dt_bounds=(0.001, 0.2)` | `config["dt_bounds"]` | –ì—Ä–∞–Ω–∏—Ü—ã –ø–æ–∏—Å–∫–∞ dt |
| `show=True` | `config["debug"]["show_optimization"]` | –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| `show_progress=True` | `config["debug"]["show_progress"]` | –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä |
| - | `config["optimizer"]["method"]` | –ú–µ—Ç–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| - | `config["performance"]["enable_caching"]` | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ |
| - | `config["visualization"]["auto_plot"]` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ |

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:**
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `optimize_dt()`
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `visualize_tree()`
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## üß™ **–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω—è 3)**

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–π  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–≤
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç

### **–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- ‚ö° **–í—Ä–µ–º—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** < 1 —Å–µ–∫—É–Ω–¥—ã (—Ü–µ–ª—å < 0.1 —Å–µ–∫)
- üéØ **–ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ—à–µ–Ω–∏—è:** –Ω–µ —Ö—É–∂–µ —Ç–µ–∫—É—â–µ–≥–æ  
- üìà **–ò—Ç–µ—Ä–∞—Ü–∏–∏ –¥–æ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏:** < 100 (—Ü–µ–ª—å < 50)
- üíæ **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:** –Ω–µ –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ

---

## üìÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

### **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–£—Ä–æ–≤–µ–Ω—å 1):**
1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (`config/`)
2. –°–æ–∑–¥–∞–Ω–∏–µ `tree_topology` —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
3. –§—É–Ω–∫—Ü–∏—è `calculate_grandchildren_positions()`  
4. –§—É–Ω–∫—Ü–∏—è `calculate_metrics()`
5. –ë—ã—Å—Ç—Ä—ã–µ `objective_function` –∏ `constraint_function`

### **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–£—Ä–æ–≤–µ–Ω—å 2):**  
1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–≤
2. –ë–∞–∑–æ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
3. –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–£—Ä–æ–≤–µ–Ω—å 3):**
1. –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã
2. JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏—è (Numba)
3. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –ë–µ–Ω—á–º–∞—Ä–∫–∏ –∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)

---

## üîß **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤**

```
optimization/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ tree_topology.py      # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞ + config
‚îÇ   ‚îú‚îÄ‚îÄ fast_calculations.py  # –ë—ã—Å—Ç—Ä—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è + config
‚îÇ   ‚îî‚îÄ‚îÄ cached_integration.py # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ optimizers/  
‚îÇ   ‚îú‚îÄ‚îÄ lbfgs_optimizer.py    # L-BFGS-B —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è + config
‚îÇ   ‚îî‚îÄ‚îÄ de_optimizer.py       # Differential Evolution + config 
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ defaults.py           # –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ validation.py         # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ optimized_dt.py          # –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + config —Å–∏—Å—Ç–µ–º–∞
```

### **–°—Ç–∞–Ω–¥–∞—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:**

```python
def example_function(param1, param2, config):
    """
    –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:
    
    Args:
        param1, param2: –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å
    
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
        config["debug"]["show_function_name"] - –≤—ã–≤–æ–¥ –æ—Ç–ª–∞–¥–∫–∏
        config["performance"]["setting"] - –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        
    –ü—Ä–∏ config["debug"]["show_function_name"]=True:
        üéØ [–ù–ê–ó–í–ê–ù–ò–ï –§–£–ù–ö–¶–ò–ò] - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
        üìä –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: param1=value1, param2=value2
        üìä –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: setting1=val1, setting2=val2
        ‚è±Ô∏è [–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ] –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
        
        üîÑ –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —à–∞–≥–∏:
           ‚Ä¢ –®–∞–≥ 1: –æ–ø–∏—Å–∞–Ω–∏–µ + —Ä–µ–∑—É–ª—å—Ç–∞—Ç
           ‚Ä¢ –®–∞–≥ 2: –æ–ø–∏—Å–∞–Ω–∏–µ + —Ä–µ–∑—É–ª—å—Ç–∞—Ç  
           ...
           
        üìã –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
           ‚Ä¢ –ö–ª—é—á–µ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞ 1: value  
           ‚Ä¢ –ö–ª—é—á–µ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞ 2: value
           
        ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ –∑–∞ X.XXs
    """
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞  
    show_debug = config.get("debug", {}).get("show_function_name", False)
    performance_setting = config.get("performance", {}).get("setting", "default")
    
    if show_debug:
        print(f"üéØ {example_function.__name__.upper()} - –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏")
        print(f"üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: param1={param1}, param2={param2}")
        print(f"üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏: performance.setting={performance_setting}")
    
    start_time = time.time() if show_debug else None
    
    # ... –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ ...
    # –õ–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ config –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    
    if show_debug:
        execution_time = time.time() - start_time
        print(f"‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ –∑–∞ {execution_time:.3f}s")
    
    return result

# === –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π ===

def get_config_value(config, path, default=None):
    """
    –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –ø–æ –ø—É—Ç–∏.
    
    Args:
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å
        path: str - –ø—É—Ç—å –≤ —Ç–æ—á–µ—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏ "section.subsection.key"
        default - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    
    Returns:
        –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ default –µ—Å–ª–∏ –ø—É—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω
    
    –ü—Ä–∏–º–µ—Ä—ã:
        show_debug = get_config_value(config, "debug.show_optimization", False)
        method = get_config_value(config, "optimizer.method", "L-BFGS-B")
    """

def should_show_debug(config, debug_type):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞.
    
    Args:
        config: dict - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        debug_type: str - —Ç–∏–ø –æ—Ç–ª–∞–¥–∫–∏ ("topology_creation", "calculations", etc.)
    
    Returns:
        bool - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –æ—Ç–ª–∞–¥–∫—É
    """
```

**–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞:** –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é `optimize_dt()` —Ñ—É–Ω–∫—Ü–∏—é —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.